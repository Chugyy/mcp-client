NOTES DE VERSION - PLATEFORME AI CLIENT
========================================

## Version 2.0.0 - 1er D√©cembre 2024

### üéâ NOUVELLES FONCTIONNALIT√âS MAJEURES

#### Syst√®me de Ressources RAG Complet
- Cr√©ation et gestion de ressources documentaires
- Upload de fichiers multiformats (PDF, DOCX, XLSX, PPTX, TXT)
- Chunking intelligent avec pr√©servation du contexte s√©mantique
- G√©n√©ration automatique d'embeddings avec text-embedding-3-large (3072 dimensions)
- Indexation vectorielle via pgvector avec algorithme HNSW
- Recherche s√©mantique optimis√©e (top-k configurable)
- Processus d'ingestion asynchrone avec suivi du statut
- Gestion des erreurs d'ingestion avec messages d√©taill√©s
- Support de l'auto-ingestion lors de la cr√©ation

#### Interface de Gestion des Ressources
- Page d√©di√©e pour la gestion des ressources (/ressources)
- Cartes visuelles avec statut en temps r√©el
- Modal de cr√©ation/√©dition avec drag & drop
- Upload multiple de fichiers
- Visualisation des chunks index√©s
- Badges de statut color√©s (pending, processing, ready, failed)
- Bouton d'ingestion avec feedback visuel
- Recherche et filtrage des ressources
- Gestion des uploads (suppression, m√©tadonn√©es)

#### Architecture Frontend React Query
- Migration compl√®te vers React Query pour la gestion d'√©tat
- Cache intelligent avec invalidation automatique
- Optimistic updates pour une UX fluide
- Gestion centralis√©e des erreurs avec toasts
- Loading states automatiques
- Pattern service/hooks r√©utilisable
- Types TypeScript stricts end-to-end

### üîß AM√âLIORATIONS

#### Performance
- R√©duction du temps d'ingestion de 40% gr√¢ce au chunking optimis√©
- Cache React Query configur√© pour minimiser les requ√™tes r√©seau
- Lazy loading des uploads dans les modals
- Debounce sur la recherche de ressources

#### S√©curit√©
- Validation des types MIME c√¥t√© backend
- Limite de taille de fichier configurable (10MB par d√©faut)
- Sanitization des noms de fichiers
- V√©rification des permissions sur les uploads
- Logs d'audit sur toutes les op√©rations sensibles

#### UX/UI
- Design System coh√©rent avec Shadcn UI
- Feedbacks visuels sur toutes les actions
- Messages d'erreur clairs et actionnables
- √âtats de chargement avec spinners
- Animations fluides pour les transitions
- Responsive design pour mobile et tablette

### üêõ CORRECTIONS DE BUGS

#### Ressources
- Fix: Les ressources d√©sactiv√©es n'apparaissent plus dans la recherche RAG
- Fix: Correction du calcul du chunk_count apr√®s ingestion
- Fix: Gestion correcte des caract√®res sp√©ciaux dans les noms de fichiers
- Fix: Timeout augment√© pour l'ingestion de gros documents

#### Agents
- Fix: Les agents syst√®me ne peuvent plus √™tre supprim√©s par erreur
- Fix: Validation du format des tags (lowercase uniquement)
- Fix: Correction de la duplication de tags lors de la mise √† jour

#### Chat
- Fix: L'historique se charge maintenant correctement apr√®s refresh
- Fix: Les m√©tadonn√©es de message sont pr√©serv√©es
- Fix: Correction du streaming pour les longues r√©ponses

#### MCP Servers
- Fix: OAuth redirect URL correcte en production
- Fix: Health check ne bloque plus le d√©marrage
- Fix: Synchronisation des tools plus robuste avec retry

### üìö DOCUMENTATION

- Nouveau guide d'architecture API (API_ARCHITECTURE.md)
- Plan de test complet pour le module Ressources
- Exemples de code Python pour l'API
- FAQ technique √©tendue
- Documentation des proc√©dures internes
- Sch√©mas d'architecture mis √† jour

### üîÑ CHANGEMENTS CASSANTS (BREAKING CHANGES)

#### API Backend
- **ATTENTION**: L'endpoint GET /resources retourne maintenant un tableau simple au lieu d'un objet avec cl√© "resources"
- Le champ `user_id` sur Upload peut √™tre null si associ√© √† une resource
- Nouveaux champs obligatoires sur Resource: `embedding_model`, `embedding_dim`

#### Frontend
- Migration de useState vers React Query pour les ressources
- Changement des imports: utiliser @/services/resources au lieu de @/lib/api
- Les types Resource et Upload ont √©t√© d√©plac√©s vers resources.types.ts

### üì¶ D√âPENDANCES

#### Backend (nouvelles)
- pgvector==0.2.4 (pour indexation vectorielle)
- pypdf==3.17.0 (pour extraction PDF)
- python-docx==1.1.0 (pour extraction Word)
- openpyxl==3.1.2 (pour extraction Excel)
- python-pptx==0.6.23 (pour extraction PowerPoint)

#### Frontend (nouvelles)
- @tanstack/react-query@5.28.0 (state management)
- sonner@1.4.0 (toast notifications)

#### Mises √† jour
- fastapi: 0.110.0 ‚Üí 0.111.0
- next: 14.1.0 ‚Üí 14.2.0
- react: 18.2.0 ‚Üí 18.3.0

### üöÄ MIGRATIONS

Pour migrer de v1.x vers v2.0.0:

1. **Base de donn√©es**
   ```sql
   -- Ajouter les colonnes pour RAG
   ALTER TABLE resources ADD COLUMN embedding_model VARCHAR(100) DEFAULT 'text-embedding-3-large';
   ALTER TABLE resources ADD COLUMN embedding_dim INTEGER DEFAULT 3072;
   ALTER TABLE resources ADD COLUMN chunk_count INTEGER DEFAULT 0;
   ALTER TABLE resources ADD COLUMN indexed_at TIMESTAMP NULL;
   ALTER TABLE resources ADD COLUMN error_message TEXT NULL;

   -- Installer l'extension pgvector
   CREATE EXTENSION IF NOT EXISTS vector;
   ```

2. **Backend Python**
   ```bash
   pip install -r requirements.txt
   alembic upgrade head
   ```

3. **Frontend**
   ```bash
   npm install
   npm run build
   ```

4. **Variables d'environnement**
   ```env
   # Nouvelles variables requises
   MAX_UPLOAD_SIZE_MB=10
   UPLOAD_DIR=/app/uploads
   CHUNK_SIZE=1000
   CHUNK_OVERLAP=200
   ```

### üìä M√âTRIQUES

#### Performance (benchmarks sur 1000 documents)
- Temps d'ingestion moyen: 2.3s (vs 3.8s en v1.x)
- Temps de recherche RAG: 180ms (vs 420ms en v1.x)
- Taux de cache hit (React Query): 78%
- R√©duction des requ√™tes r√©seau: -45%

#### Qualit√©
- Couverture de tests: 87% (vs 72% en v1.x)
- 0 erreur TypeScript (vs 24 en v1.x)
- Score Lighthouse: 94/100 (vs 81/100 en v1.x)
- Temps de build production: 45s (vs 62s en v1.x)

### üéØ PROCHAINES √âTAPES

#### v2.1.0 (Janvier 2025)
- Support de mod√®les d'embedding personnalis√©s
- Am√©lioration du chunking avec strat√©gies adaptatives
- Export/Import de ressources
- API de monitoring en temps r√©el

#### v2.2.0 (F√©vrier 2025)
- Multi-tenancy complet
- Webhooks pour √©v√©nements syst√®me
- Int√©grations Zapier et Make
- Dashboard analytics avanc√©

#### v3.0.0 (Q2 2025)
- Architecture microservices
- Support Kubernetes
- Mobile app (iOS/Android)
- Marketplace de prompts et agents

### üë• CONTRIBUTEURS

Merci √† tous les contributeurs de cette version:
- @hugo - Lead d√©veloppeur backend & frontend
- @marie - UI/UX design
- @thomas - Tests & QA
- @julie - Documentation
- @pierre - DevOps & Infrastructure

### üìû SUPPORT

Pour toute question sur cette version:
- Email: support@ai-client.com
- Slack: #v2-0-support
- Documentation: https://docs.ai-client.com/v2.0
- Changelog complet: https://github.com/ai-client/platform/releases/v2.0.0

---

## Version 1.8.2 - 15 Novembre 2024

### üêõ Corrections
- Fix: Timeout OAuth sur serveurs MCP
- Fix: Validation email plus stricte
- Fix: Encodage UTF-8 dans les messages de chat

### üîß Am√©liorations
- Performance: Optimisation des requ√™tes SQL agents
- UX: Ajout d'un indicateur de typing dans le chat
- Logs: Am√©lioration du format des logs syst√®me

---

## Version 1.8.1 - 1er Novembre 2024

### üêõ Corrections
- Fix: Rate limiting trop strict sur /chat
- Fix: Refresh token ne se renouvelle pas correctement
- Fix: CSS cass√© sur mobile (< 768px)

---

## Version 1.8.0 - 15 Octobre 2024

### üéâ Nouveaut√©s
- Ajout du support Claude 3 Opus et Sonnet
- Interface de s√©lection de mod√®le dans le chat
- Syst√®me de tags pour organiser les agents

### üîß Am√©liorations
- Migration vers Next.js 14 App Router
- Nouveau design du chat avec markdown rendering
- Am√©lioration de la gestion des erreurs r√©seau

---

Pour l'historique complet: https://github.com/ai-client/platform/blob/main/CHANGELOG.md
